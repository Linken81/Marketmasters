<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Market Masters Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="dashboard">
        <!-- Header: Cash, Coins, Level, Marketmasters centered -->
        <div class="header">
            <div class="header-flex">
                <div class="header-cash">Cash: <span id="cash">$10,000.00</span></div>
                <div class="header-hud">
                    <div class="hud-left">
                        <div class="coins">Coins: <span id="coins">0</span></div>
                        <div class="level">Level: <span id="level">1</span></div>
                    </div>
                    <div class="hud-xp">
                        <div id="xp-bar-wrap" title="XP progress">
                            <div id="xp-bar"></div>
                        </div>
                        <div id="next-level-info"></div>
                    </div>
                </div>
                <div class="header-title"><span class="mm-pro">Marketmasters</span></div>
                <div class="header-actions">
                    <button id="btn-missions" class="action-btn">Missions</button>
                    <button id="btn-shop" class="action-btn">Shop</button>
                    <button id="btn-achievements" class="action-btn">Achievements</button>
                    <button id="btn-prestige" class="action-btn">Prestige</button>
                </div>
            </div>
        </div>

        <!-- Left Panel (Portfolio Chart + Trade) - RESTORED to original positions -->
        <div class="left-panel">
            <div class="panel">
                <div class="panel-title">Portfolio Chart</div>
                <div class="chart-container">
                    <canvas id="portfolioChart"></canvas>
                </div>
            </div>

            <div class="panel">
                <div class="panel-title">Trade</div>
                <table>
                    <thead>
                        <tr>
                            <th>Stock</th>
                            <th>Type</th>
                            <th>Price</th>
                            <th>Change</th>
                            <th>Buy</th>
                        </tr>
                    </thead>
                    <tbody id="trade-table"></tbody>
                </table>
            </div>
        </div>

        <!-- Center Panel (Stocks + My Portfolio) - RESTORED to original positions -->
        <div class="center-panel">
            <div class="panel">
                <div class="panel-title">Stocks</div>
                <table>
                    <thead>
                        <tr>
                            <th>Symbol</th>
                            <th>Type</th>
                            <th>Price</th>
                            <th>Change</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="stock-table"></tbody>
                </table>
            </div>

            <div class="panel">
                <div class="panel-title">My Portfolio</div>
                <table>
                    <thead>
                        <tr>
                            <th>Symbol</th>
                            <th>Owned</th>
                            <th>Price</th>
                            <th>Total Value</th>
                            <th>Change</th>
                            <th>Sell</th>
                        </tr>
                    </thead>
                    <tbody id="portfolio-table"></tbody>
                </table>
            </div>
        </div>

        <!-- Right Panel -->
        <div class="right-panel">
            <div class="panel">
                <div class="panel-title">Leaderboard</div>
                <ul class="leaderboard-list" id="scores"></ul>
                <div class="buttons-row">
                    <button id="save-score" class="action-btn">Save My Score</button>
                    <button id="btn-share" class="action-btn">Share Snapshot</button>
                </div>
                <div style="font-size:0.85em; color:#9aa7b2; margin-top:8px;">
                    Season ends in: <span id="season-timer">--:--:--</span>
                </div>
            </div>
            <!-- News panel -->
            <div class="panel news-panel">
                <div class="panel-title">News</div>
                <div id="news-content"></div>
            </div>
        </div>
    </div>

    <!-- Missions panel (reserved slot moved into modal but keep the reserved panel if needed) -->
    <div id="modal-missions" class="modal" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <h3>Daily Missions</h3>
            <div id="missions-modal-list"></div>
            <div style="margin-top:12px; text-align:right;">
                <button id="close-missions" class="action-btn">Close</button>
            </div>
        </div>
    </div>

    <!-- Shop Modal -->
    <div id="modal-shop" class="modal" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <h3>Shop</h3>
            <div id="shop-items"></div>
            <div style="margin-top:12px; text-align:right;">
                <button id="close-shop" class="action-btn">Close</button>
            </div>
        </div>
    </div>

    <!-- Achievements Modal -->
    <div id="modal-achievements" class="modal" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <h3>Achievements</h3>
            <div id="achievements-list"></div>
            <div style="margin-top:12px; text-align:right;">
                <button id="close-achievements" class="action-btn">Close</button>
            </div>
        </div>
    </div>

    <!-- Toasts -->
    <div id="toasts" class="toasts"></div>

    <script src="script.js"></script>
</body>
</html>
